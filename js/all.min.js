"use strict";$(document).ready(function(){$(".time").datetimepicker({format:"HH:mm",defaultDate:moment(),allowInputToggle:!0}),$(".modal").on("show.bs.modal",function(){$(".modal").not(this).modal("hide")}),$(".navbar-collapse").on("shown.bs.collapse",function(){$("body, html").addClass("noscroll"),$(".header__btn").addClass("show"),$(".navbar-toggler").addClass("active"),$(".navbar-brand").hide()}).on("hide.bs.collapse",function(){$("body, html").removeClass("noscroll"),$(".header__btn").removeClass("show"),$(".navbar-toggler").removeClass("active"),$(".navbar-brand").show()});var e,t,o=$(".header__topbar").clone().addClass("header__topbar--mob");(window.innerWidth<768&&$(".navbar-collapse").append(o),$(".selectpicker").each(function(){var e=$(this),t=e.next();e.val().length>0&&t.removeClass("bs-placeholder"),e.on("changed.bs.select",function(){(t=e.next()).removeClass("bs-placeholder")})}),$('[data-toggle="tooltip"]').tooltip(),$(".promotion__item").tooltip({template:'<div class="tooltip tooltip--secondary" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',html:!0,title:function(){return $(this).find(".promotion__tooltip").html()}}),$(".textarea-group .form-textarea").length>0&&$(".textarea-group .form-textarea").each(function(){var e=$(this),t=e.closest(".textarea-group").find(".textarea-counter span"),o=e.val(),n=o.length,i=e.attr("maxlength"),a=i-n;n>0?t.text(n+" / "+i):t.text("0 / "+i),e.keyup(function(){o=$(this).val(),n=o.length,a<=0&&(e.val(o.substr(0,i)),a=0,n=i),t.length&&t.text(n+" / "+i)})}),$(document).on("click",".post__favorites",function(e){e.preventDefault(),$(this).toggleClass("active")}),$(".post__item .custom-checkbox").length>0)&&$(".post__item").each(function(){var e=$(this),t=e.find(".custom-checkbox input");t.is(":checked")&&e.addClass("post__item--checked"),t.change(function(){this.checked?e.addClass("post__item--checked"):e.removeClass("post__item--checked")})});if($(".filter__section").each(function(){var e=$(this),t=e.find(".custom-checkbox"),o=e.find(".filter__showMore");if(t.length>5){o.removeClass("d-none");for(var n=5;n<t.length;n++)t.eq(n).hide()}o.on("click",function(e){e.preventDefault(),t.show(),o.addClass("d-none")})}),(e=function(){if($(".category").length>0){var e=$(".category"),t=e.find(".category__item"),o=e.find(".category__btn");if(window.innerWidth<768){if(t.length>4){o.removeClass("d-none");for(var n=4;n<t.length;n++)t.eq(n).addClass("d-none");o.on("click",function(e){e.preventDefault(),t.removeClass("d-none"),o.addClass("d-none")})}}else t.removeClass("d-none"),o.addClass("d-none")}})(),$(".review").length>0){var n=$(".review"),i=n.find(".review__form"),a=n.find(".review__btn");a.on("click",function(e){e.preventDefault(),i.show(),a.hide()})}if($("#lightSlider").lightSlider({item:1,gallery:!0,loop:!1,auto:!0,speed:700,pause:3e3,pauseOnHover:!0,thumbItem:10,thumbMargin:8,controls:!0,responsive:[{breakpoint:575,settings:{thumbItem:20}}]}),(t=function(){$(".zoomImg").each(function(e){var t=$(this),o=t.attr("src");if(t.attr("data-full",o),t.attr("data-thumb",o),window.innerWidth>767){var n=document.createElement("div");n.setAttribute("class","zoomResult"),document.body.append(n);var i=$(".product__carousel"),a=i.offset(),l=i.width(),s=a.left+l+60;$(".zoomResult").css({top:a.top,left:s,width:l,height:l}),enlargeImage(this,n)}})})(),$(".product").length>0){var l=$(".promotion__settings").clone().addClass("promotion__settings--mob");window.innerWidth<768&&$(".product__info").append(l)}$.fn.extend({toggleText:function(e,t){return this.text(this.text()==t?e:t)}}),$(".product .product__favorite").length>0&&$(".product .product__favorite").each(function(){var e=$(this),t=e.text(),o=e.data("title");e.on("click",function(n){n.preventDefault(),e.toggleClass("active"),e.toggleText(t,o)})});var s,r=$(".file__input"),d=$(".file__icon"),c=$(".file__list:not(.file__list--secondary)");(s=function(){var e=$(".file__list .file__item");e.length>1?(e.addClass("file__item--sortable"),$(".file__list").sortable({items:".file__item:not(.ui-state-disabled)",connectWith:"#sortable1",tolerance:"pointer",placeholder:"file__placeholder",start:function(e,t){t.placeholder.height(t.item.children().height())}})):e.removeClass("file__item--sortable")})(),r.on("change",function(){d.hide(),c.removeClass("d-none"),function(e){if(e.files)for(var t=e.files.length,o=0;o<t;o++){var n=new FileReader;n.onload=function(e){$(".file__list").append('<div class="file__item ui-state-default"><img src="'+e.target.result+'" alt=""><a href="" class="file__delete"></a></div>')},n.readAsDataURL(e.files[o])}}(this),setTimeout(function(){s()},100)}),$(document).on("click",".file__delete",function(e){e.preventDefault(),$(this).closest(".file__item").remove(),setTimeout(function(){s()},100),0==$(".file__item").length&&(d.show(),c.addClass("d-none"))});var h=window,f=document,u=f.documentElement,m=f.getElementsByTagName("body")[0];h.innerWidth||u.clientWidth||m.clientWidth;window.onresize=function(){e(),t();h.innerWidth||u.clientWidth||m.clientWidth}});